<template>
    <div class="signup">
        <div class="signup__top flex flex--center">
            <Logo />
            <span class="logo-text">Tyñda</span>
        </div>
        <div class="signup__content">
            <div class="success-msg" v-if="isRegistered">
              <p>Please, check your email to verify account</p>
            </div>
            <p class="signup__title">Sign up with your email address</p>
            <form class="form" @submit.prevent="submitForm">
                <div>
                    <label class="form__label">What is your email?</label>
                    <input type="text" placeholder="Email" class="form__input" :class="inputError.email != '' ? 'form__input--error' : ''" v-model="user.email" @input="() => inputError.email=''" required/>
                    <div class="error-block" v-if="inputError.email != ''">
                        <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M7.5 0.9375C3.87598 0.9375 0.9375 3.87598 0.9375 7.5C0.9375 11.124 3.87598 14.0625 7.5 14.0625C11.124 14.0625 14.0625 11.124 14.0625 7.5C14.0625 3.87598 11.124 0.9375 7.5 0.9375ZM7.03125 4.33594C7.03125 4.27148 7.08398 4.21875 7.14844 4.21875H7.85156C7.91602 4.21875 7.96875 4.27148 7.96875 4.33594V8.32031C7.96875 8.38477 7.91602 8.4375 7.85156 8.4375H7.14844C7.08398 8.4375 7.03125 8.38477 7.03125 8.32031V4.33594ZM7.5 10.7812C7.316 10.7775 7.14081 10.7018 7.01202 10.5703C6.88322 10.4389 6.81108 10.2622 6.81108 10.0781C6.81108 9.89409 6.88322 9.71739 7.01202 9.58594C7.14081 9.45448 7.316 9.37876 7.5 9.375C7.684 9.37876 7.85919 9.45448 7.98798 9.58594C8.11678 9.71739 8.18892 9.89409 8.18892 10.0781C8.18892 10.2622 8.11678 10.4389 7.98798 10.5703C7.85919 10.7018 7.684 10.7775 7.5 10.7812Z" fill="#EC4F4F"/>
                        </svg>
                        <span>{{ inputError.email }}</span>
                    </div>
                </div>
                <div>
                    <label style="margin-top:25px" class="form__label" title="Password should contain at least one numeric digit, one uppercase and lowercase letter. Minimum length is 8">Create a password</label>
                    <input type="password" placeholder="Create a password" class="form__input" :class="inputError.password != '' ? 'form__input--error' : ''" v-model="user.password" @input="() => inputError.password=''" required/>
                    <div class="error-block" v-if="inputError.password != ''">
                        <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M7.5 0.9375C3.87598 0.9375 0.9375 3.87598 0.9375 7.5C0.9375 11.124 3.87598 14.0625 7.5 14.0625C11.124 14.0625 14.0625 11.124 14.0625 7.5C14.0625 3.87598 11.124 0.9375 7.5 0.9375ZM7.03125 4.33594C7.03125 4.27148 7.08398 4.21875 7.14844 4.21875H7.85156C7.91602 4.21875 7.96875 4.27148 7.96875 4.33594V8.32031C7.96875 8.38477 7.91602 8.4375 7.85156 8.4375H7.14844C7.08398 8.4375 7.03125 8.38477 7.03125 8.32031V4.33594ZM7.5 10.7812C7.316 10.7775 7.14081 10.7018 7.01202 10.5703C6.88322 10.4389 6.81108 10.2622 6.81108 10.0781C6.81108 9.89409 6.88322 9.71739 7.01202 9.58594C7.14081 9.45448 7.316 9.37876 7.5 9.375C7.684 9.37876 7.85919 9.45448 7.98798 9.58594C8.11678 9.71739 8.18892 9.89409 8.18892 10.0781C8.18892 10.2622 8.11678 10.4389 7.98798 10.5703C7.85919 10.7018 7.684 10.7775 7.5 10.7812Z" fill="#EC4F4F"/>
                        </svg>
                        <span>{{ inputError.password }}</span>
                    </div>
                </div>
                <div>
                    <label style="margin-top:25px" class="form__label">What should we call you?</label>
                    <input type="text" placeholder="Enter a profile name" class="form__input" v-model="user.name" required/>
                </div>
                <div>
                    <label style="margin-top:25px" class="form__label">Date of birth</label>
                    <div class="date flex flex--space">
                        <input placeholder="DD" class="form__input date__item" inputmode="numeric" maxlength="2" pattern="((0?[1-9])|([12][0-9])|(3[01]))" v-model="day" required/>
                        <select name="month" required="" aria-invalid="true" class="form__input date__item" v-model="month">
                            <option selected="" disabled="" value="">Month</option>
                            <option value="01">January</option>
                            <option value="02">February</option>
                            <option value="03">March</option>
                            <option value="04">April</option>
                            <option value="05">May</option>
                            <option value="06">June</option>
                            <option value="07">July</option>
                            <option value="08">August</option>
                            <option value="09">September</option>
                            <option value="10">October</option>
                            <option value="11">November</option>
                            <option value="12">December</option>
                        </select>
                        <input placeholder="YYYY" class="form__input date__item" inputmode="numeric" maxlength="4" pattern="\d{4}" v-model="year" required />
                    </div>
                </div>
                <div> 
                    <label style="margin-top:25px" class="form__label">What is your gender?</label>
                    <div class="radio">
                      <input type="radio" id="gender_option_male" name="gender" required="" value="M" aria-invalid="false" class="radio__input" v-model="user.gender">
                      <label for="gender_option_male" class="radio__label">Male</label>
                      <input type="radio" id="gender_option_female" name="gender" required="" value="F" aria-invalid="false" class="radio__input" v-model="user.gender">
                      <label for="gender_option_female" class="radio__label">Female</label>
                    </div>
                </div>
                <div class="terms flex">
                    <input id="terms" v-model="isTermChecked" type="checkbox" required class="terms__input" />
                    <label for="terms" class="terms__label">I agree with the <router-link to="/terms" class="terms__link">user terms</router-link></label>
                </div>
                <Button class="signup__btn" type="fill" :disabled="!isTermChecked">Sign up for Tyñda</Button>
                <!-- <div class="another">
                    <span>OR</span>
                    <button class="link">
                        <svg width="148" height="18" viewBox="0 0 148 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8.31641 12.251V14H1.8916V12.251H8.31641ZM2.50684 1.20312V14H0.300781V1.20312H2.50684ZM9.40625 9.35059V9.14844C9.40625 8.46289 9.50586 7.82715 9.70508 7.24121C9.9043 6.64941 10.1914 6.13672 10.5664 5.70312C10.9473 5.26367 11.4102 4.92383 11.9551 4.68359C12.5059 4.4375 13.127 4.31445 13.8184 4.31445C14.5156 4.31445 15.1367 4.4375 15.6816 4.68359C16.2324 4.92383 16.6982 5.26367 17.0791 5.70312C17.46 6.13672 17.75 6.64941 17.9492 7.24121C18.1484 7.82715 18.248 8.46289 18.248 9.14844V9.35059C18.248 10.0361 18.1484 10.6719 17.9492 11.2578C17.75 11.8438 17.46 12.3564 17.0791 12.7959C16.6982 13.2295 16.2354 13.5693 15.6904 13.8154C15.1455 14.0557 14.5273 14.1758 13.8359 14.1758C13.1387 14.1758 12.5146 14.0557 11.9639 13.8154C11.4189 13.5693 10.9561 13.2295 10.5752 12.7959C10.1943 12.3564 9.9043 11.8438 9.70508 11.2578C9.50586 10.6719 9.40625 10.0361 9.40625 9.35059ZM11.5244 9.14844V9.35059C11.5244 9.77832 11.5684 10.1826 11.6562 10.5635C11.7441 10.9443 11.8818 11.2783 12.0693 11.5654C12.2568 11.8525 12.4971 12.0781 12.79 12.2422C13.083 12.4062 13.4316 12.4883 13.8359 12.4883C14.2285 12.4883 14.5684 12.4062 14.8555 12.2422C15.1484 12.0781 15.3887 11.8525 15.5762 11.5654C15.7637 11.2783 15.9014 10.9443 15.9893 10.5635C16.083 10.1826 16.1299 9.77832 16.1299 9.35059V9.14844C16.1299 8.72656 16.083 8.32812 15.9893 7.95312C15.9014 7.57227 15.7607 7.23535 15.5674 6.94238C15.3799 6.64941 15.1396 6.4209 14.8467 6.25684C14.5596 6.08691 14.2168 6.00195 13.8184 6.00195C13.4199 6.00195 13.0742 6.08691 12.7812 6.25684C12.4941 6.4209 12.2568 6.64941 12.0693 6.94238C11.8818 7.23535 11.7441 7.57227 11.6562 7.95312C11.5684 8.32812 11.5244 8.72656 11.5244 9.14844ZM26.1143 4.49023H28.0391V13.7363C28.0391 14.5918 27.8574 15.3184 27.4941 15.916C27.1309 16.5137 26.624 16.9678 25.9736 17.2783C25.3232 17.5947 24.5703 17.7529 23.7148 17.7529C23.3516 17.7529 22.9473 17.7002 22.502 17.5947C22.0625 17.4893 21.6348 17.3193 21.2188 17.085C20.8086 16.8564 20.4658 16.5547 20.1904 16.1797L21.1836 14.9316C21.5234 15.3359 21.8984 15.6318 22.3086 15.8193C22.7188 16.0068 23.1494 16.1006 23.6006 16.1006C24.0869 16.1006 24.5 16.0098 24.8398 15.8281C25.1855 15.6523 25.4521 15.3916 25.6396 15.0459C25.8271 14.7002 25.9209 14.2783 25.9209 13.7803V6.64355L26.1143 4.49023ZM19.6543 9.35059V9.16602C19.6543 8.44531 19.7422 7.78906 19.918 7.19727C20.0938 6.59961 20.3457 6.08691 20.6738 5.65918C21.002 5.22559 21.4004 4.89453 21.8691 4.66602C22.3379 4.43164 22.8682 4.31445 23.46 4.31445C24.0752 4.31445 24.5996 4.42578 25.0332 4.64844C25.4727 4.87109 25.8389 5.19043 26.1318 5.60645C26.4248 6.0166 26.6533 6.50879 26.8174 7.08301C26.9873 7.65137 27.1133 8.28418 27.1953 8.98145V9.57031C27.1191 10.25 26.9902 10.8711 26.8086 11.4336C26.627 11.9961 26.3867 12.4824 26.0879 12.8926C25.7891 13.3027 25.4199 13.6191 24.9805 13.8418C24.5469 14.0645 24.0342 14.1758 23.4424 14.1758C22.8623 14.1758 22.3379 14.0557 21.8691 13.8154C21.4062 13.5752 21.0078 13.2383 20.6738 12.8047C20.3457 12.3711 20.0938 11.8613 19.918 11.2754C19.7422 10.6836 19.6543 10.042 19.6543 9.35059ZM21.7725 9.16602V9.35059C21.7725 9.78418 21.8135 10.1885 21.8955 10.5635C21.9834 10.9385 22.1152 11.2695 22.291 11.5566C22.4727 11.8379 22.7012 12.0605 22.9766 12.2246C23.2578 12.3828 23.5889 12.4619 23.9697 12.4619C24.4678 12.4619 24.875 12.3564 25.1914 12.1455C25.5137 11.9346 25.7598 11.6504 25.9297 11.293C26.1055 10.9297 26.2285 10.5254 26.2988 10.0801V8.48926C26.2637 8.14355 26.1904 7.82129 26.0791 7.52246C25.9736 7.22363 25.8301 6.96289 25.6484 6.74023C25.4668 6.51172 25.2383 6.33594 24.9629 6.21289C24.6875 6.08398 24.3623 6.01953 23.9873 6.01953C23.6064 6.01953 23.2754 6.10156 22.9941 6.26562C22.7129 6.42969 22.4814 6.65527 22.2998 6.94238C22.124 7.22949 21.9922 7.56348 21.9043 7.94434C21.8164 8.3252 21.7725 8.73242 21.7725 9.16602ZM36.9863 4.49023V14H34.8594V4.49023H36.9863ZM34.7188 1.99414C34.7188 1.67187 34.8242 1.40527 35.0352 1.19434C35.252 0.977539 35.5508 0.869141 35.9316 0.869141C36.3066 0.869141 36.6025 0.977539 36.8193 1.19434C37.0361 1.40527 37.1445 1.67187 37.1445 1.99414C37.1445 2.31055 37.0361 2.57422 36.8193 2.78516C36.6025 2.99609 36.3066 3.10156 35.9316 3.10156C35.5508 3.10156 35.252 2.99609 35.0352 2.78516C34.8242 2.57422 34.7188 2.31055 34.7188 1.99414ZM41.4072 6.52051V14H39.2891V4.49023H41.2842L41.4072 6.52051ZM41.0293 8.89355L40.3438 8.88477C40.3496 8.21094 40.4434 7.59277 40.625 7.03027C40.8125 6.46777 41.0703 5.98438 41.3984 5.58008C41.7324 5.17578 42.1309 4.86523 42.5938 4.64844C43.0566 4.42578 43.5723 4.31445 44.1406 4.31445C44.5977 4.31445 45.0107 4.37891 45.3799 4.50781C45.7549 4.63086 46.0742 4.83301 46.3379 5.11426C46.6074 5.39551 46.8125 5.76172 46.9531 6.21289C47.0938 6.6582 47.1641 7.20605 47.1641 7.85645V14H45.0371V7.84766C45.0371 7.39062 44.9697 7.03027 44.835 6.7666C44.7061 6.49707 44.5156 6.30664 44.2637 6.19531C44.0176 6.07812 43.71 6.01953 43.3408 6.01953C42.9775 6.01953 42.6523 6.0957 42.3652 6.24805C42.0781 6.40039 41.835 6.6084 41.6357 6.87207C41.4424 7.13574 41.293 7.44043 41.1875 7.78613C41.082 8.13184 41.0293 8.50098 41.0293 8.89355ZM56.3926 11.8906L58.5898 4.49023H59.9434L59.5742 6.70508L57.3594 14H56.1465L56.3926 11.8906ZM55.1006 4.49023L56.8145 11.9258L56.9551 14H55.6016L53.0264 4.49023H55.1006ZM62 11.8379L63.6611 4.49023H65.7266L63.1602 14H61.8066L62 11.8379ZM60.1719 4.49023L62.3428 11.8027L62.6152 14H61.4023L59.1611 6.69629L58.792 4.49023H60.1719ZM69.4355 4.49023V14H67.3086V4.49023H69.4355ZM67.168 1.99414C67.168 1.67187 67.2734 1.40527 67.4844 1.19434C67.7012 0.977539 68 0.869141 68.3809 0.869141C68.7559 0.869141 69.0518 0.977539 69.2686 1.19434C69.4854 1.40527 69.5938 1.67187 69.5938 1.99414C69.5938 2.31055 69.4854 2.57422 69.2686 2.78516C69.0518 2.99609 68.7559 3.10156 68.3809 3.10156C68 3.10156 67.7012 2.99609 67.4844 2.78516C67.2734 2.57422 67.168 2.31055 67.168 1.99414ZM76.1152 4.49023V6.03711H70.7539V4.49023H76.1152ZM72.3008 2.16113H74.4189V11.3721C74.4189 11.665 74.46 11.8906 74.542 12.0488C74.6299 12.2012 74.75 12.3037 74.9023 12.3564C75.0547 12.4092 75.2334 12.4355 75.4385 12.4355C75.585 12.4355 75.7256 12.4268 75.8604 12.4092C75.9951 12.3916 76.1035 12.374 76.1855 12.3564L76.1943 13.9736C76.0186 14.0264 75.8135 14.0732 75.5791 14.1143C75.3506 14.1553 75.0869 14.1758 74.7881 14.1758C74.3018 14.1758 73.8711 14.0908 73.4961 13.9209C73.1211 13.7451 72.8281 13.4609 72.6172 13.0684C72.4062 12.6758 72.3008 12.1543 72.3008 11.5039V2.16113ZM79.8418 0.5V14H77.7324V0.5H79.8418ZM79.4727 8.89355L78.7871 8.88477C78.793 8.22852 78.8838 7.62207 79.0596 7.06543C79.2412 6.50879 79.4932 6.02539 79.8154 5.61523C80.1436 5.19922 80.5361 4.87988 80.9932 4.65723C81.4502 4.42871 81.957 4.31445 82.5137 4.31445C82.9824 4.31445 83.4043 4.37891 83.7793 4.50781C84.1602 4.63672 84.4883 4.84473 84.7637 5.13184C85.0391 5.41309 85.2471 5.78223 85.3877 6.23926C85.5342 6.69043 85.6074 7.24121 85.6074 7.8916V14H83.4805V7.87402C83.4805 7.41699 83.4131 7.05371 83.2783 6.78418C83.1494 6.51465 82.959 6.32129 82.707 6.2041C82.4551 6.08105 82.1475 6.01953 81.7842 6.01953C81.4033 6.01953 81.0664 6.0957 80.7734 6.24805C80.4863 6.40039 80.2461 6.6084 80.0527 6.87207C79.8594 7.13574 79.7129 7.44043 79.6133 7.78613C79.5195 8.13184 79.4727 8.50098 79.4727 8.89355Z" fill="#878787"/>
                            <path d="M102.271 7.46094V12.3477C102.09 12.5879 101.806 12.8516 101.419 13.1387C101.038 13.4199 100.531 13.6631 99.8984 13.8682C99.2656 14.0732 98.4775 14.1758 97.5342 14.1758C96.7314 14.1758 95.9961 14.041 95.3281 13.7715C94.6602 13.4961 94.083 13.0947 93.5967 12.5674C93.1162 12.04 92.7441 11.3984 92.4805 10.6426C92.2168 9.88086 92.085 9.01367 92.085 8.04102V7.15332C92.085 6.18652 92.2051 5.3252 92.4453 4.56934C92.6914 3.80762 93.043 3.16309 93.5 2.63574C93.957 2.1084 94.5078 1.70996 95.1523 1.44043C95.8027 1.16504 96.5381 1.02734 97.3584 1.02734C98.4072 1.02734 99.2744 1.20312 99.96 1.55469C100.651 1.90039 101.185 2.38086 101.56 2.99609C101.935 3.61133 102.172 4.31445 102.271 5.10547H100.109C100.039 4.66016 99.9014 4.26172 99.6963 3.91016C99.4971 3.55859 99.21 3.2832 98.835 3.08398C98.4658 2.87891 97.9854 2.77637 97.3936 2.77637C96.8838 2.77637 96.4355 2.87305 96.0488 3.06641C95.6621 3.25977 95.3398 3.54395 95.082 3.91895C94.8301 4.29395 94.6396 4.75098 94.5107 5.29004C94.3818 5.8291 94.3174 6.44434 94.3174 7.13574V8.04102C94.3174 8.74414 94.3906 9.36816 94.5371 9.91309C94.6895 10.458 94.9062 10.918 95.1875 11.293C95.4746 11.668 95.8232 11.9521 96.2334 12.1455C96.6436 12.333 97.1064 12.4268 97.6221 12.4268C98.126 12.4268 98.5391 12.3857 98.8613 12.3037C99.1836 12.2158 99.4385 12.1133 99.626 11.9961C99.8193 11.873 99.9688 11.7559 100.074 11.6445V9.10449H97.4111V7.46094H102.271ZM131.021 4.49023H132.945V13.7363C132.945 14.5918 132.764 15.3184 132.4 15.916C132.037 16.5137 131.53 16.9678 130.88 17.2783C130.229 17.5947 129.477 17.7529 128.621 17.7529C128.258 17.7529 127.854 17.7002 127.408 17.5947C126.969 17.4893 126.541 17.3193 126.125 17.085C125.715 16.8564 125.372 16.5547 125.097 16.1797L126.09 14.9316C126.43 15.3359 126.805 15.6318 127.215 15.8193C127.625 16.0068 128.056 16.1006 128.507 16.1006C128.993 16.1006 129.406 16.0098 129.746 15.8281C130.092 15.6523 130.358 15.3916 130.546 15.0459C130.733 14.7002 130.827 14.2783 130.827 13.7803V6.64355L131.021 4.49023ZM124.561 9.35059V9.16602C124.561 8.44531 124.648 7.78906 124.824 7.19727C125 6.59961 125.252 6.08691 125.58 5.65918C125.908 5.22559 126.307 4.89453 126.775 4.66602C127.244 4.43164 127.774 4.31445 128.366 4.31445C128.981 4.31445 129.506 4.42578 129.939 4.64844C130.379 4.87109 130.745 5.19043 131.038 5.60645C131.331 6.0166 131.56 6.50879 131.724 7.08301C131.894 7.65137 132.02 8.28418 132.102 8.98145V9.57031C132.025 10.25 131.896 10.8711 131.715 11.4336C131.533 11.9961 131.293 12.4824 130.994 12.8926C130.695 13.3027 130.326 13.6191 129.887 13.8418C129.453 14.0645 128.94 14.1758 128.349 14.1758C127.769 14.1758 127.244 14.0557 126.775 13.8154C126.312 13.5752 125.914 13.2383 125.58 12.8047C125.252 12.3711 125 11.8613 124.824 11.2754C124.648 10.6836 124.561 10.042 124.561 9.35059ZM126.679 9.16602V9.35059C126.679 9.78418 126.72 10.1885 126.802 10.5635C126.89 10.9385 127.021 11.2695 127.197 11.5566C127.379 11.8379 127.607 12.0605 127.883 12.2246C128.164 12.3828 128.495 12.4619 128.876 12.4619C129.374 12.4619 129.781 12.3564 130.098 12.1455C130.42 11.9346 130.666 11.6504 130.836 11.293C131.012 10.9297 131.135 10.5254 131.205 10.0801V8.48926C131.17 8.14355 131.097 7.82129 130.985 7.52246C130.88 7.22363 130.736 6.96289 130.555 6.74023C130.373 6.51172 130.145 6.33594 129.869 6.21289C129.594 6.08398 129.269 6.01953 128.894 6.01953C128.513 6.01953 128.182 6.10156 127.9 6.26562C127.619 6.42969 127.388 6.65527 127.206 6.94238C127.03 7.22949 126.898 7.56348 126.811 7.94434C126.723 8.3252 126.679 8.73242 126.679 9.16602Z" fill="#4285F4"/>
                            <path d="M104.1 9.35059V9.14844C104.1 8.46289 104.199 7.82715 104.398 7.24121C104.598 6.64941 104.885 6.13672 105.26 5.70312C105.641 5.26367 106.104 4.92383 106.648 4.68359C107.199 4.4375 107.82 4.31445 108.512 4.31445C109.209 4.31445 109.83 4.4375 110.375 4.68359C110.926 4.92383 111.392 5.26367 111.772 5.70312C112.153 6.13672 112.443 6.64941 112.643 7.24121C112.842 7.82715 112.941 8.46289 112.941 9.14844V9.35059C112.941 10.0361 112.842 10.6719 112.643 11.2578C112.443 11.8438 112.153 12.3564 111.772 12.7959C111.392 13.2295 110.929 13.5693 110.384 13.8154C109.839 14.0557 109.221 14.1758 108.529 14.1758C107.832 14.1758 107.208 14.0557 106.657 13.8154C106.112 13.5693 105.649 13.2295 105.269 12.7959C104.888 12.3564 104.598 11.8438 104.398 11.2578C104.199 10.6719 104.1 10.0361 104.1 9.35059ZM106.218 9.14844V9.35059C106.218 9.77832 106.262 10.1826 106.35 10.5635C106.438 10.9443 106.575 11.2783 106.763 11.5654C106.95 11.8525 107.19 12.0781 107.483 12.2422C107.776 12.4062 108.125 12.4883 108.529 12.4883C108.922 12.4883 109.262 12.4062 109.549 12.2422C109.842 12.0781 110.082 11.8525 110.27 11.5654C110.457 11.2783 110.595 10.9443 110.683 10.5635C110.776 10.1826 110.823 9.77832 110.823 9.35059V9.14844C110.823 8.72656 110.776 8.32812 110.683 7.95312C110.595 7.57227 110.454 7.23535 110.261 6.94238C110.073 6.64941 109.833 6.4209 109.54 6.25684C109.253 6.08691 108.91 6.00195 108.512 6.00195C108.113 6.00195 107.768 6.08691 107.475 6.25684C107.188 6.4209 106.95 6.64941 106.763 6.94238C106.575 7.23535 106.438 7.57227 106.35 7.95312C106.262 8.32812 106.218 8.72656 106.218 9.14844ZM143.923 14.1758C143.22 14.1758 142.584 14.0615 142.016 13.833C141.453 13.5986 140.973 13.2734 140.574 12.8574C140.182 12.4414 139.88 11.9521 139.669 11.3896C139.458 10.8271 139.353 10.2207 139.353 9.57031V9.21875C139.353 8.47461 139.461 7.80078 139.678 7.19727C139.895 6.59375 140.196 6.07812 140.583 5.65039C140.97 5.2168 141.427 4.88574 141.954 4.65723C142.481 4.42871 143.053 4.31445 143.668 4.31445C144.348 4.31445 144.942 4.42871 145.452 4.65723C145.962 4.88574 146.384 5.20801 146.718 5.62402C147.058 6.03418 147.31 6.52344 147.474 7.0918C147.644 7.66016 147.729 8.28711 147.729 8.97266V9.87793H140.381V8.35742H145.637V8.19043C145.625 7.80957 145.549 7.45215 145.408 7.11816C145.273 6.78418 145.065 6.51465 144.784 6.30957C144.503 6.10449 144.128 6.00195 143.659 6.00195C143.308 6.00195 142.994 6.07812 142.719 6.23047C142.449 6.37695 142.224 6.59082 142.042 6.87207C141.86 7.15332 141.72 7.49316 141.62 7.8916C141.526 8.28418 141.479 8.72656 141.479 9.21875V9.57031C141.479 9.98633 141.535 10.373 141.646 10.7305C141.764 11.082 141.934 11.3896 142.156 11.6533C142.379 11.917 142.648 12.125 142.965 12.2773C143.281 12.4238 143.642 12.4971 144.046 12.4971C144.556 12.4971 145.01 12.3945 145.408 12.1895C145.807 11.9844 146.152 11.6943 146.445 11.3193L147.562 12.4004C147.356 12.6992 147.09 12.9863 146.762 13.2617C146.434 13.5312 146.032 13.751 145.558 13.9209C145.089 14.0908 144.544 14.1758 143.923 14.1758Z" fill="#EA4335"/>
                            <path d="M114.312 9.35059V9.14844C114.312 8.46289 114.412 7.82715 114.611 7.24121C114.811 6.64941 115.098 6.13672 115.473 5.70312C115.854 5.26367 116.316 4.92383 116.861 4.68359C117.412 4.4375 118.033 4.31445 118.725 4.31445C119.422 4.31445 120.043 4.4375 120.588 4.68359C121.139 4.92383 121.604 5.26367 121.985 5.70312C122.366 6.13672 122.656 6.64941 122.855 7.24121C123.055 7.82715 123.154 8.46289 123.154 9.14844V9.35059C123.154 10.0361 123.055 10.6719 122.855 11.2578C122.656 11.8438 122.366 12.3564 121.985 12.7959C121.604 13.2295 121.142 13.5693 120.597 13.8154C120.052 14.0557 119.434 14.1758 118.742 14.1758C118.045 14.1758 117.421 14.0557 116.87 13.8154C116.325 13.5693 115.862 13.2295 115.481 12.7959C115.101 12.3564 114.811 11.8438 114.611 11.2578C114.412 10.6719 114.312 10.0361 114.312 9.35059ZM116.431 9.14844V9.35059C116.431 9.77832 116.475 10.1826 116.562 10.5635C116.65 10.9443 116.788 11.2783 116.976 11.5654C117.163 11.8525 117.403 12.0781 117.696 12.2422C117.989 12.4062 118.338 12.4883 118.742 12.4883C119.135 12.4883 119.475 12.4062 119.762 12.2422C120.055 12.0781 120.295 11.8525 120.482 11.5654C120.67 11.2783 120.808 10.9443 120.896 10.5635C120.989 10.1826 121.036 9.77832 121.036 9.35059V9.14844C121.036 8.72656 120.989 8.32812 120.896 7.95312C120.808 7.57227 120.667 7.23535 120.474 6.94238C120.286 6.64941 120.046 6.4209 119.753 6.25684C119.466 6.08691 119.123 6.00195 118.725 6.00195C118.326 6.00195 117.98 6.08691 117.688 6.25684C117.4 6.4209 117.163 6.64941 116.976 6.94238C116.788 7.23535 116.65 7.57227 116.562 7.95312C116.475 8.32812 116.431 8.72656 116.431 9.14844Z" fill="#FBBC05"/>
                            <path d="M137.41 0.5V14H135.283V0.5H137.41Z" fill="#34A853"/>
                        </svg>
                    </button>
                </div> -->
            </form>
        </div> 
    </div>
</template>

<script>
import Logo from "@/components/common/Logo.vue";
import Button from "@/components/common/Button.vue";

export default {
  name: "Signup",
  components: {
    Logo,
    Button
  },
  data: function() {
    return {
      successful: false,
      loading: false,
      isTermChecked: false,
      user: { 
        email: "", 
        password: "", 
        name: "", 
        date: "", 
        gender: ""
      },
      day: "", 
      month: "", 
      year: "",
      inputError: {
        email: "",
        password: "",
      },
      isRegistered: false,
    };
  },
  watch: {
    email(value) {
        this.user.email = value;
        this.emailValidation(value);
    }
  },
  computed: {
    loggedIn: {
      get: function() {
        return this.$store.getters['auth/getLogged'];
      },
      set(newVal){ this.loggedIn = newVal}
    },
  },
  mounted() {
    if (this.loggedIn) {
      this.$router.push("/profile");
    }
  },
  
  methods: {
    passwordValidation() {
        let passwordFormat = /^(?=.*\d)(?=.*[a-z])[0-9a-zA-Z]{8,}$/;
        if(this.user.password.match(passwordFormat)) {
            return true;
        } else {
            this.inputError.password = "Password should contain at least one numeric digit, and lowercase letter. Minimum length is 8";
            return false;
        }
    },
    emailValidation() {
        let emailFormat = /^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;
        if(this.user.email.match(emailFormat)) {
            return true;
        } else {
            this.inputError.email = "Please enter valid email";
            return false;
        }
    },
    convertDateFormat(day, month, year) {
      return `${day}.${month}.${year}`
    },
    submitForm() {
      let passVal = this.passwordValidation();
      let emailVal = this.emailValidation();
      if(passVal && emailVal) {
        this.user.date = this.convertDateFormat(this.day, this.month, this.year);
          this.$store.dispatch("auth/register", this.user)
          .then((response) => {
            if(response.status == 200 || response.status == 201) {
              this.loggedIn = true;
              this.isRegistered = true;
            }
          })
          .catch((error) => {
            this.inputError.email = error.response.data.email[0];
            this.loggedIn = false;
          })
          this.isRegistered = true;
            if(this.loggedIn) {
              this.$nextTick(()=> {
                this.$router.push("/login");
              })
            }
        // this.register(this.user.email, this.user.password, this.user.name, this.user.date, this.user.gender)
      } 
    }
  }
};
</script>
<style lang="scss" scoped>
.signup {
    &__top {
        height: 140px;
    }
    &__title {
        text-align: center;
        margin: 0;
        font-weight: 500;
        font-size: 20px;
    }
    &__content {
        width: 450px;
        margin: 0 auto;
        position: relative;
    }
    &__btn {
        font-size: 20px;
        width: 100%;
        padding: 15px;
        margin: 35px 0 47px;
    }
}
.date {
    &__item {
        &:first-child {
            width: 20%;
        }
        &:nth-child(2) {
            width: 45%;
        }
        &:last-child {
            width: 25%;
        }
    }
}
select {
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    color: rgb(118, 118, 118);
}
.radio {
    margin-top: 15px;
    display: flex;
    align-items: center;
    &__input {
        height: 19px;
        width: 19px;
        &:hover {
          cursor: pointer;
        }
    }
    &__label {
        margin: 0 25px 0 15px;
        &:hover {
          cursor: pointer;
        }
    }
}
.terms {
    margin-top: 35px;
    &__input {
        width: 19px;
        height: 19px;
    }
    &__label {
        margin-left: 15px;
        &:hover{
          cursor: pointer;
        }
    }
    &__link {
        color: $secondary-color;
    }
}
.another {
    border-top: 2px solid #D2D2D2;
    position: relative;
    >span {
        width: 50px;
        background: #fff;
        position: absolute;
        left: 50%;
        top: 0;
        transform: translate(-50%, -50%);
        font-weight: 500;
        text-align: center;
    }
}
.error-block {
    color: red;
    margin: 7px 0 25px;
    span {
      font-size: 14px !important;
      margin-left: 5px;
    }
}
.success-msg {
  width: 100%;
  height: 60px;
  text-align: center;
  background: rgb(132, 255, 123);
  position: absolute;
  color: rgb(0, 0, 0);
  p {
    margin-top: 20px;
    font-size: 20px;
  }
}
</style>